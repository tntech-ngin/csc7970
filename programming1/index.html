<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Networking and the Internet</title>
    
<link rel="icon" type="image/png" href="https://tntech-ngin.github.io/csc7970/public/images/favicon.png" />
<link href="https://fonts.googleapis.com/css?family=Open&#43;Sans:400,600" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/csc7970/public/css/style.min.9bd1e730a56c290ac6b728001ae8cb26269e3ad81e9393854c9d85af485ffcd9.css" integrity="sha256-m9HnMKVsKQrGtygAGujLJiaeOtgek5OFTJ2Fr0hf/Nk=">
<link rel="stylesheet" type="text/css" href="https://tntech-ngin.github.io/csc7970/public/css/icons.css">

  </head>
  <body>
    
    <div id="preloader">
      <div id="status"></div>
    </div>

    

    



<nav class="navbar is-fresh is-transparent no-shadow" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" href="/csc7970/public/">
        <img src="/csc7970/public/images/logos/logo.svg" alt="" width="112" height="28">
      </a>
      <a class="navbar-item is-hidden-desktop is-hidden-tablet">
        <div id="menu-icon-wrapper" class="menu-icon-wrapper" style="visibility: visible;">
          <svg width="1000px" height="1000px">
            <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
            <path class="path2" d="M 300 500 L 700 500"></path>
            <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
          </svg>
          <button id="menu-icon-trigger" class="menu-icon-trigger"></button>
        </div>
      </a>

      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbar-menu">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>

      <div id="navbar-menu" class="navbar-menu is-static">
        <div class="navbar-start">
          <a class="navbar-item is-hidden-mobile">
            <div id="menu-icon-wrapper" class="menu-icon-wrapper" style="visibility: visible;">
              <svg width="1000px" height="1000px">
                <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
                <path class="path2" d="M 300 500 L 700 500"></path>
                <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
              </svg>
              <button id="menu-icon-trigger" class="menu-icon-trigger"></button>
            </div>
          </a>
        </div>

        <div class="navbar-end">
          <a href="/csc7970/public/syllabus/index.html" class="navbar-item is-secondary">
            Syllabus
          </a>
          <a href="/csc7970/public/material/index.html" class="navbar-item is-secondary">
            Material
          </a>
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link">
              Programming Assignments
            </a>

            <div class="navbar-dropdown">
              <a href="/programming1/index.html" class="navbar-item">
                Sample Problems
              </a>
            </div>
          </div>
        </div>
      </div>
  </div>
</nav>





<nav id="navbar-clone" class="navbar is-fresh is-transparent" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" href="/csc7970/public/">
        <img src="/csc7970/public/images/logos/logo.svg" alt="" width="112" height="28">
      </a>
      <a class="navbar-item is-hidden-desktop is-hidden-tablet">
        <div id="menu-icon-wrapper" class="menu-icon-wrapper" style="visibility: visible;">
          <svg width="1000px" height="1000px">
            <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
            <path class="path2" d="M 300 500 L 700 500"></path>
            <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
          </svg>
          <button id="menu-icon-trigger" class="menu-icon-trigger"></button>
        </div>
      </a>

      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="cloned-navbar-menu">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>

    <div id="cloned-navbar-menu" class="navbar-menu is-fixed">
      <div class="navbar-start">
        <a class="navbar-item is-hidden-mobile">
          <div id="cloned-menu-icon-wrapper" class="menu-icon-wrapper" style="visibility: visible;">
            <svg width="1000px" height="1000px">
              <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
              <path class="path2" d="M 300 500 L 700 500"></path>
              <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
            </svg>
            <button id="cloned-menu-icon-trigger" class="menu-icon-trigger"></button>
          </div>
        </a>
      </div>

      <div class="navbar-end">
        <a href="/csc7970/public/syllabus/index.html" class="navbar-item is-secondary">
          Syllabus
        </a>
        <a href="/csc7970/public/material/index.html" class="navbar-item is-secondary">
          Material
        </a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            Programming Assignments
          </a>

          <div class="navbar-dropdown">
            <a href="/programming1/index.html" class="navbar-item">
              Sample Problems
            </a>
          </div>
        </div>
      </div>
    </div>
</div>
</nav>

<section class="section is-medium">
  <div class="container">
    <div class="columns">
      <div class="column is-centered-tablet-portrait">
        <h1 class="title section-title">Programming Assignment</h1>
        <h5 class="subtitle is-5 is-muted"></h5>
        <div class="divider"></div>
      </div>
    </div>
    

<h2 id="due-date-sept-13-2019">Due Date - Sept 13, 2019</h2>

<hr />

<p><strong>Objectives</strong></p>

<hr />

<ol>
<li><p>Learn to create network packets.</p></li>

<li><p>Learn how packets can be sent over the network.</p></li>

<li><p>Familiarize you with the concept of sockets.</p></li>

<li><p>Learn packing structures, endianness, unpacking, and interpreting network data.</p></li>

<li><p>Learn how to use actual data from a packet.</p></li>

<li><p>Use packet capture to visually inspect protocols.</p>

<hr />

<p><strong>Overview</strong></p>

<hr />

<p><br>
In this warmup project, you are going to implement a client and a server program that will send a command over the network. The command simply turns on an LED light. However, the LED light speaks a special protocol. All we know about this protocol is the packet format used for turning on the light. Your task is to create this packet and then send it to the server for turning on this light. For this assignment, you won&rsquo;t actually turn on a light, just sending the command is enough.
<br></p></li>
</ol>

<p><br></p>

<hr />

<p><strong><em>Server Specifications</em></strong></p>

<hr />

<p>The server takes two arguments:</p>

<pre><code>$ lightserver -p &lt;PORT&gt; -l &lt;LOG FILE LOCATION&gt;
</code></pre>

<p>1.<code>PORT</code> - The port server listens on.</p>

<p>2.<code>Log file location</code> - Where you will keep a record of actions.</p>

<pre><code>For example:
$ lightserver -p 30000 -l /tmp/logfile
</code></pre>

<hr />

<p><strong><em>Deliverables (each worth 5 points)</em></strong></p>

<hr />

<ol>
<li><p>Write a server that listens for incoming connections on the specified port.</p></li>

<li><p>Server must parse two command line arguments, port and log locations.</p></li>

<li><p>The server must <em>not</em> exit after receiving a single packet.</p></li>

<li><p>Once a client connects, it logs a message in the following format <code>&quot;Received connection from &lt;CLIENT IP, PORT&gt; &quot;</code></p></li>

<li><p>Once it receives a hello message from the client, it logs the connection and sends a hello back to the client.</p></li>

<li><p>You can assume the packet format is the following:</p>

<pre><code>+-----------------+--------------------------+-------------------------+
|                 |                          |                         |
|                 |                          |                         |
|Version(4 bytes) |Message type (4 bytes)    |Message Length (4 bytes) |
|                 |                          |                         |
|                 |                          |                         |
+-----------------+--------------------------+-------------------------+
|                                                                      |
|                                                                      |
|                       Message (Max 8 Bytes)                          |
|                                                                      |
|                                                                      |
+----------------------------------------------------------------------+
</code></pre></li>

<li><p>It receives the packet header first, followed by the message. <em>Hint: You need two RECV calls</em>.</p></li>

<li><p>Check if Version == 17. If not, log an error message <code>VERSION MISMATCH</code> and continue to listen. Do not exit.</p></li>

<li><p>If Version == 17, check the message type. If message Type is 1 - the corresponding command is <code>LIGHTON</code>. If message type is 2 - the corresponding command is <code>LIGHTOFF</code>. No other command is supported.</p></li>

<li><p>If the server sees a supported command, log &ldquo;EXECUTING SUPPORTED COMMAND: COMMANDNAME&rdquo;, else log &lt;&ldquo;IGNORING UNKNOWN COMMAND: COMMANDNAME&rdquo;.</p></li>

<li><p>Send back a &ldquo;SUCCESS&rdquo; message to the client.</p></li>

<li><p>Make sure server does not exit on 0 byte messages.
<br></p></li>
</ol>

<hr />

<p><strong><em>Client Specifications</em></strong></p>

<hr />

<p><br></p>

<pre><code>$ lightclient -s &lt;SERVER-IP&gt; -p &lt;PORT&gt; -l LOGFILE
</code></pre>

<p>The client takes three arguments:</p>

<p>1.<code>Server IP</code> - The IP address of the server.</p>

<p>2.<code>PORT</code> - The port the server listens on.</p>

<p>2.<code>Log file location</code> - Where you will keep a record of packets you received.</p>

<pre><code>For example:
$ lightclient -s 192.168.2.1 -p 6543 -l LOGFILE
</code></pre>

<p><br></p>

<hr />

<p><strong><em>Client Requirements (each worth 5 points, item 9 is worth 10 points)</em></strong></p>

<hr />

<p><br></p>

<ol>
<li><p>The client must parse three command line arguments, server, port, and logfile.</p></li>

<li><p>The client should connect to the server on the specified port.</p></li>

<li><p>Constructs and sends a hello packet to the server.</p>

<pre><code>+-----------------+--------------------------+-------------------------+
|                 |                          |                         |
|                 |                          |                         |
|Version(4 bytes) |Message type (4 bytes)    |Message Length (4 bytes) |
|                 |                          |                         |
|                 |                          |                         |
+-----------------+--------------------------+-------------------------+
|                                                                      |
|                                                                      |
|                       Message (HELLO)                                |
|                                                                      |
|                                                                      |
+----------------------------------------------------------------------+
</code></pre></li>

<li><p>Receive reply from Server - if version is 17, log &ldquo;VERSION ACCEPTED&rdquo;, else log - &ldquo;VERSION MISMATCH&rdquo;</p></li>

<li><p>If version is accepted, send a command packet.</p>

<pre><code>+-----------------+--------------------------+-------------------------+
|                 |                          |                         |
|                 |                          |                         |
|Version(4 bytes) |Message type (4 bytes)    |Message Length (4 bytes) |
|                 |                          |                         |
|                 |                          |                         |
+-----------------+--------------------------+-------------------------+
|                                                                      |
|                                                                      |
|                       COMMAND (LIGHTON/LIGHTOFF)                     |
|                                                                      |
|                                                                      |
+----------------------------------------------------------------------+
</code></pre></li>

<li><p>Receive the server&rsquo;s reply, log the reply, and gracefully shutdown the socket. You can assume the server always replies with a &ldquo;SUCCESS&rdquo; message for this assignment.</p></li>

<li><p>Use TCPDUMP or Wireshark to capture the interactions, turn the .pcap file in with the assignment.</p></li>
</ol>

<p><br></p>

<hr />

<p>Additional requirements:</p>

<hr />

<ol>
<li><p>Code must compile/run on Google Cloud Ubuntu VM (18.04) - we will test your code only on the VM.</p></li>

<li><p>You must pack the packet in a structure. If you are using python, use the struct module.</p></li>

<li><p>Pay extra attention to byte-order encoding before sending the packet. Big-endianness is the dominant ordering in today&rsquo;s network protocols.</p></li>
</ol>

  </div>
</section>



    
    <div id="backtotop"><a href="#"></a></div>

    
    
<div class="sidebar">
  <div class="sidebar-header">
    <img src="/csc7970/public/images/logos/fresh-white-alt.svg">
    <a class="sidebar-close" href="javascript:void(0);">
      <i data-feather="x"></i>
    </a>
  </div>
  <div class="inner">
    <ul class="sidebar-menu">
      
      <li>
        <a href="/csc7970/public/material/">
          Course Material
        </a>
      </li>
      
      <li>
        <a href="/csc7970/public/programming3/">
          Create your own content delivery network
        </a>
      </li>
      
      <li>
        <a href="/csc7970/public/programming1/">
          Programming Assignment
        </a>
      </li>
      
      <li>
        <a href="/csc7970/public/syllabus/">
          Syllabus
        </a>
      </li>
      
      <li>
        <a href="/csc7970/public/programming2/">
          To the Cloud and Back
        </a>
      </li>
      
    </ul>
  </div>
</div>

    

    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://unpkg.com/feather-icons"></script>
<script src="https://tntech-ngin.github.io/csc7970/public/js/fresh.js"></script>
<script src="https://tntech-ngin.github.io/csc7970/public/js/jquery.panelslider.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  </body>
</html>

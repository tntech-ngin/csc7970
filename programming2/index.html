<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Networking and the Internet</title>
    
<link rel="icon" type="image/png" href="https://tntech-ngin.github.io/csc7970/public/images/favicon.png" />
<link href="https://fonts.googleapis.com/css?family=Open&#43;Sans:400,600" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/csc7970/public/css/style.min.9bd1e730a56c290ac6b728001ae8cb26269e3ad81e9393854c9d85af485ffcd9.css" integrity="sha256-m9HnMKVsKQrGtygAGujLJiaeOtgek5OFTJ2Fr0hf/Nk=">
<link rel="stylesheet" type="text/css" href="https://tntech-ngin.github.io/csc7970/public/css/icons.css">

  </head>
  <body>
    
    <div id="preloader">
      <div id="status"></div>
    </div>

    

    



<nav class="navbar is-fresh is-transparent no-shadow" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" href="/csc7970/public/">
        <img src="/csc7970/public/images/logos/logo.svg" alt="" width="112" height="28">
      </a>
      <a class="navbar-item is-hidden-desktop is-hidden-tablet">
        <div id="menu-icon-wrapper" class="menu-icon-wrapper" style="visibility: visible;">
          <svg width="1000px" height="1000px">
            <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
            <path class="path2" d="M 300 500 L 700 500"></path>
            <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
          </svg>
          <button id="menu-icon-trigger" class="menu-icon-trigger"></button>
        </div>
      </a>

      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbar-menu">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>

      <div id="navbar-menu" class="navbar-menu is-static">
        <div class="navbar-start">
          <a class="navbar-item is-hidden-mobile">
            <div id="menu-icon-wrapper" class="menu-icon-wrapper" style="visibility: visible;">
              <svg width="1000px" height="1000px">
                <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
                <path class="path2" d="M 300 500 L 700 500"></path>
                <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
              </svg>
              <button id="menu-icon-trigger" class="menu-icon-trigger"></button>
            </div>
          </a>
        </div>

        <div class="navbar-end">
          <a href="/csc7970/public/syllabus/index.html" class="navbar-item is-secondary">
            Syllabus
          </a>
          <a href="/csc7970/public/material/index.html" class="navbar-item is-secondary">
            Material
          </a>
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link">
              Programming Assignments
            </a>

            <div class="navbar-dropdown">
              <a href="/programming1/index.html" class="navbar-item">
                Sample Problems
              </a>
            </div>
          </div>
        </div>
      </div>
  </div>
</nav>





<nav id="navbar-clone" class="navbar is-fresh is-transparent" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" href="/csc7970/public/">
        <img src="/csc7970/public/images/logos/logo.svg" alt="" width="112" height="28">
      </a>
      <a class="navbar-item is-hidden-desktop is-hidden-tablet">
        <div id="menu-icon-wrapper" class="menu-icon-wrapper" style="visibility: visible;">
          <svg width="1000px" height="1000px">
            <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
            <path class="path2" d="M 300 500 L 700 500"></path>
            <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
          </svg>
          <button id="menu-icon-trigger" class="menu-icon-trigger"></button>
        </div>
      </a>

      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="cloned-navbar-menu">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>

    <div id="cloned-navbar-menu" class="navbar-menu is-fixed">
      <div class="navbar-start">
        <a class="navbar-item is-hidden-mobile">
          <div id="cloned-menu-icon-wrapper" class="menu-icon-wrapper" style="visibility: visible;">
            <svg width="1000px" height="1000px">
              <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
              <path class="path2" d="M 300 500 L 700 500"></path>
              <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
            </svg>
            <button id="cloned-menu-icon-trigger" class="menu-icon-trigger"></button>
          </div>
        </a>
      </div>

      <div class="navbar-end">
        <a href="/csc7970/public/syllabus/index.html" class="navbar-item is-secondary">
          Syllabus
        </a>
        <a href="/csc7970/public/material/index.html" class="navbar-item is-secondary">
          Material
        </a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            Programming Assignments
          </a>

          <div class="navbar-dropdown">
            <a href="/programming1/index.html" class="navbar-item">
              Sample Problems
            </a>
          </div>
        </div>
      </div>
    </div>
</div>
</nav>

<section class="section is-medium">
  <div class="container">
    <div class="columns">
      <div class="column is-centered-tablet-portrait">
        <h1 class="title section-title">To the Cloud and Back</h1>
        <h5 class="subtitle is-5 is-muted"></h5>
        <div class="divider"></div>
      </div>
    </div>
    

<h2 id="due-date-october-20-2019-10pm-cst">Due Date - October 20, 2019, 10PM CST</h2>

<hr />

<p><strong>Objectives</strong></p>

<hr />

<ol>
<li><p>Learn to create robust network protocols</p></li>

<li><p>Learn about reliable communication</p></li>

<li><p>How a premitive proxy might work. You can use this to get around sensorship or firewalls.</p></li>
</ol>

<hr />

<p><strong>Overview</strong></p>

<hr />

<p><br>
In this project, you are going to build on the first project. You will have a server in the cloud that downloads and saves a web page in memory. You will then have clients that connects to the server and retrives this content. This is the overly simplified idea behind a <strong>WEB PROXY</strong>. For this project, we are not going to introduce encryption, though this can be easily done later. The client and server communications MUST use UDP (SOCK_DGRAM).
<br></p>

<p><br></p>

<hr />

<p><strong>Server Specifications</strong></p>

<hr />

<p>The server takes two arguments:</p>

<pre><code>$ anonserver -p &lt;PORT&gt; -s &lt;LOG FILE LOCATION&gt; -p &lt;web page to download&gt;
</code></pre>

<p>1.<code>PORT</code> - The port server listens on.</p>

<p>2.<code>Log file location</code> - Where you will keep a record of actions.</p>

<p>3.<code>p</code> - Which webpage to download and serve.</p>

<p>For example:</p>

<pre><code>$ anonserver -p 30000 -l /tmp/logfile -p www.nytimes.com
</code></pre>

<hr />

<p>Functional requirements</p>

<hr />

<ol>
<li><p>The server must open a UDP socket on the specified port number</p></li>

<li><p>The server should gracefully process incorrect port number and exit with a non-zero error code</p></li>

<li><p>The server should send a FIN after done sending the packet</p></li>

<li><p>The server should download the file specified by -p and save it from the memory</p></li>
</ol>

<hr />

<p><strong><em>Client Specifications</em></strong></p>

<hr />

<p><br></p>

<pre><code>$ anonclient -s &lt;SERVER-IP&gt; -p &lt;PORT&gt; -l LOGFILE
</code></pre>

<p>The client takes three arguments:</p>

<p>1.<code>Server IP</code> - The IP address of the server.</p>

<p>2.<code>PORT</code> - The port the server listens on.</p>

<p>2.<code>Log file location</code> - Where you will keep a record of packets you received.</p>

<pre><code>For example:
$ anonclient -s 192.168.2.1 -p 6543 -l LOGFILE
</code></pre>

<p><br></p>

<hr />

<p>Protocol Specifications</p>

<hr />

<p>The payload of each UDP packet sent by server and client MUST start with the following 12-byte header. All fields are in network order (most significant bit first):</p>

<pre><code>   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                        Sequence Number                        |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                     Acknowledgment Number                     |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                  Not Used                               |A|S|F|
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre>

<p>Where:</p>

<ol>
<li><p>Sequence Number (32 bits): The sequence number of the first data octet in this packet (except when SYN is present). If SYN is present the sequence number is the initial sequence number (12345).</p></li>

<li><p>Acknowledgement Number (32 bits): <strong>If the ACK control bit is set this field contains the value of the next sequence number the sender of the segment is expecting to receive. Once a connection is established this is always sent.</strong></p></li>

<li><p>The acknowledgement number is given in the unit of bytes.</p></li>

<li><p>Not Used (29 bits): Must be zero.</p></li>

<li><p>A (ACK, 1 bit): Indicates that there the value of Acknowledgment Number field is valid</p></li>

<li><p>S (SYN, 1 bit): Synchronize sequence numbers</p></li>

<li><p>F (FIN, 1 bit): Finish, No more data from sender</p></li>
</ol>

<p>Here is what a sample interaction looks like:</p>

<pre><code>      Server                                Client
      |                                      |
      |     seq=12345, ack=0, SYN            |
      | &lt;----------------------------------  |
      | seq=100,  ack=12346, SYN, ACK        |
      | ----------------------------------&gt;  |
      |   seq=12346,  ack=101, ACK           |
      | &lt;----------------------------------  |####handshake complete, start getting data
      |seq=102,ack=12347,ACK,512Byte payload |
      | ----------------------------------&gt;  |
      |   seq=12347, ack=614, ACK            |
      | &lt;----------------------------------  |
      |seq=614,ack=12348,ACK,512Byte payload |
      | ----------------------------------&gt;  |
      |   seq=12348, ack=1126, ACK           |
      | &lt;----------------------------------  |
      |seq=1126, ack=12349,ACK,512Byte paylod|
      | ----------------------------------&gt;  |


</code></pre>

<hr />

<p><strong>Client requirements:</strong></p>

<hr />

<ol>
<li>The client must open a UDP socket and initiate 3-way handshake to the specified hostname/ip and port</li>
<li>Send UDP packet src-ip=DEFAULT, src-port=DEFAULT, dst-ip=HOSTNAME-OR-IP, dst-port=PORT with SYN flag set, Connection ID initialized to 0, Sequence Number set to 12345, and Acknowledgement Number set to 0</li>
<li>Expect response from server with SYN | ACK flags.</li>
<li>Send UDP packet with ACK flag, you should now start receiving data</li>
<li>The client should gracefully process incorrect hostname and port number and exit with a non-zero exit code</li>
<li>After file is successfully transferred, expect a FIN message from the server</li>
<li>On a FIN message, send an FIN|ACK, and gracefully shutdown the connection and write the content to an output file</li>
</ol>

<hr />

<p><strong>Server Requirements</strong></p>

<hr />

<ol>
<li>The server must open a UDP socket on the specified port number</li>
<li>The server should gracefully process incorrect port number and exit with a non-zero error code (you can assume that the folder is always correct). In addition to exit, the server must print out on standard error (std::cerr) an error message that starts with ERROR: string.</li>
<li>The server should be able to accept and process multiple connection from clients at the same time</li>
<li>Keep track of the last acknowldged byte - if data is lost(ack does not come back), retransmit after 0.5 seconds</li>
</ol>

<hr />

<p><strong>Additional requirements:</strong></p>

<hr />

<ol>
<li>Code must compile/run on Google Cloud Ubuntu VM (18.04) - we will test your code only on the VM.</li>

<li><p>For each packet received, log both at server and receiver in the following format:</p>

<pre><code>&quot;RECV&quot; &lt;Sequence Number&gt; &lt;Acknowledgement Number&gt; [&quot;ACK&quot;] [&quot;SYN&quot;] [&quot;FIN&quot;]
&quot;SEND&quot; &lt;Sequence Number&gt; &lt;Acknowledgement Number&gt; [&quot;ACK&quot;] [&quot;SYN&quot;] [&quot;FIN&quot;]
</code></pre></li>

<li><p>If packet is dropped and the server retransmits the data, log the following:</p>

<pre><code>&quot;RETRAN&quot; &lt;Sequence Number&gt; &lt;Acknowledgement Number&gt; [&quot;ACK&quot;] [&quot;SYN&quot;] [&quot;FIN&quot;]
</code></pre></li>
</ol>

  </div>
</section>



    
    <div id="backtotop"><a href="#"></a></div>

    
    
<div class="sidebar">
  <div class="sidebar-header">
    <img src="/csc7970/public/images/logos/fresh-white-alt.svg">
    <a class="sidebar-close" href="javascript:void(0);">
      <i data-feather="x"></i>
    </a>
  </div>
  <div class="inner">
    <ul class="sidebar-menu">
      
      <li>
        <a href="/csc7970/public/material/">
          Course Material
        </a>
      </li>
      
      <li>
        <a href="/csc7970/public/programming3/">
          Create your own content delivery network
        </a>
      </li>
      
      <li>
        <a href="/csc7970/public/programming1/">
          Programming Assignment
        </a>
      </li>
      
      <li>
        <a href="/csc7970/public/syllabus/">
          Syllabus
        </a>
      </li>
      
      <li>
        <a href="/csc7970/public/programming2/">
          To the Cloud and Back
        </a>
      </li>
      
    </ul>
  </div>
</div>

    

    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://unpkg.com/feather-icons"></script>
<script src="https://tntech-ngin.github.io/csc7970/public/js/fresh.js"></script>
<script src="https://tntech-ngin.github.io/csc7970/public/js/jquery.panelslider.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  </body>
</html>
